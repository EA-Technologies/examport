<div class="row">
  <ul class="tabs" style="margin-left: -10px;">
		<% @questions.each_with_index do |question, index| %>
	    <li class="tab col s2">
	    	<a href="#question<%= index %>" class="blue-grey white-text question<%= index %> btn"><span><%= index + 1 %></span></a>
	    </li>
		<% end %>
	</ul>
	<%= form_for @response_set, :html => { :id => "test"} do |f| %>
		<%= f.hidden_field 'survey_id', value: @survey.id %>
		<% @questions.each_with_index do |question, index| %>
	    <div id="question<%= index %>" class="col s12">
				<div class="row"> 
					<div class="input-field col s12 m12 l12  login-text">
						<label style="color: #000;"><%= index + 1 %>.  <%= question.text %></label>
						<%= f.hidden_field "#{question.id}", value: '', id: "response_#{question.id}" %>
					</div>
				</div>
				<div class="row">
					<% orderList = %w{a b c d e f g h i j} %>
					<% question.answers.shuffle.each_with_index do |answer, ind| %>
						<div class="input-field col s12 m12 l12  login-text">
							<p>
					      <input name="<%= question.id %>" type="radio" id="<%= answer.id %>", class="response" style="color: #000;" />
					      <label for="<%= answer.id %>" style="color: #000;"><strong>(<%= orderList[ind] %>)</strong>  <%= answer.text %></label>
					    </p>
						</div>
					<% end %>
				</div>
				<div class="row navigation">
					<% if index > 0 %>
						<div class="col s3">
							<a href="#" class="btn navigate blue-grey" id="<%= index - 1 %>">Previous</a>
						</div>
					<% end %>
					<% unless question == @questions.last %>
						<div class="col s3 right">
							<a href="#" id="<%= index + 1 %>" class="btn navigate blue-grey">Next</a>
						</div>
					<% else %>
						<div class="col s3 right">
							<%= f.submit 'Submit Test',id: "sub_test", class: "btn submit blue-grey", data: {:confirm => "Are you sure you want to submit the test"} %>
						</div>
					<% end %>
				</div>
			</div>
		<% end %>
	<% end %>
</div>
<script>
	$('ul.tabs').tabs();
	// $('ul.tabs').hide();

	$(".response").click(function(){
		var name = $(this).attr('name');
		if($(this).val() == "on"){
			$("#response_" + name).val(this.id);	
		}
	});
	

	$(".navigation .navigate").click(function(){
		var tabId = this.id;
		console.log(".question" + tabId);
		$(".question" + tabId).click();
	});

	$(function(){
		$('#ms_timer').countdowntimer({
			minutes : 10,
			seconds : 0,
			size : "lg",
			timeUp : timeisUp
		});

		function timeisUp() {
			alert("your test time is over");
			$('#test').submit();
    }
  });

</script>
<style>

	ul.tabs li a{
		border-radius: 0;
	}

	.tab a.active{
		background-color: #384851;
		font-weight: 600;
		color: #fff;
	}
</style>